[
["index.html", "PrAna Handbook 1 Introduction", " PrAna Handbook Kishore Jagadeesan 2020-05-14 1 Introduction During the last decade, wide range of active pharmaceutical ingredients (APIs) have been identified and quantified in aquatic environment across several studies and indicated their impacts on exposed environmental species and humans. For the prediction of total amount of the APIs released to the environment, information about APIs consumption data is vital. Globally, several methods were reported to estimate the APIs consumption data based on the national prescription data, manufacturers, importers and dispenser’s data. In the UK, national prescription data provided by National Health Service (NHS), was used to calculate the consumption data. This data is freely accessible and consist of individual files for each month. With the large file with over 10 million records every month, the data from the NHS cannot be used for the direct calculation of the prescription levels of different APIs. Re-organisation and processing of the files is required before to do any exploration or analysis and to speed up the data reading. The aim of PrAna is to aggregate and normalize prescription data to calculate total prescribed quantity of different APIs, using open source statistical software R language. The name is an acronym for Prescription Analysis Apart, from the calculation of the total prescribed quantity of an API or a group of APIs, specified to a postcode or region, We have also developed, an open interactive web-based tool, PrAnaViz with the processed dataset for the period 2015 to 2018. PrAnaViz facilitates users to visualise, explore and report different spatiotemporal and long-term prescription trends for wider use. The documentation of PrAna consists of three parts: This handbook The reference manual (accessible in R with ?PrAna-package or online here) A tutorial for PrAnaViz (accessible at here) A tutorial for FileUpload (accessible at here) "],
["install.html", "2 Installation 2.1 Dependencies 2.2 PrAnaViz", " 2 Installation PrAna can be installed as any other R package, however, since it is dependent on some other software tools some extra steps are required for the installation. You can install the released version of PrAna from CRAN with: install.packages(&quot;PrAna&quot;) You can install the development version of PrAna from GitHub with: # install.packages(&quot;devtools&quot;) library(devtools) install_github(&quot;jkkishore85/PrAna&quot;) Note that you will need to have the latest R version installed in order to use this repository. 2.1 Dependencies Software Remarks RStudio Suggested IDE platform to perform the R operations MySQL Optional to host the generated dataset 2.2 PrAnaViz For a very quick start: library(PrAna) PrAna::runShiny(&quot;PrAnaViz&quot;) The runShiny(\"PrAnaViz\") function will pop-up the PrAnaViz tool which will allow you to explore different spatiotemporal and long-term prescription trends with the sample dataset. However, for a better guide to get started it is recommended to read the tutorial. "],
["workflow.html", "3 Workflow 3.1 Data Download 3.2 Data Conversion", " 3 Workflow Data Preparation: Download monthly NHS prescription datasets and Dictionary of medicines and devices release files (dm+d). Data Conversion: Aggregation and conversion of the locally stored datasets into practice wise dataset achieved using the functions in PrAna. Visualise and Analyse the data: Visualise and analyse the processed dataset using the in-built ShinyApp PrAnaViz. Database service: Linking of the processed dataset to the PrAnaViz can be achieved by uploading the processed dataset to a local or a remote database service, for example, MySQL. Download images and processed data: Users can download processed data as .csv file and publication ready image .eps and .pdf files. 3.1 Data Download To download NHS prescription datasets, users need to guest login and solve a captcha in NHSBSA information portal, to download the dm+d release files and dm+d XML Transformation Tool, users need to register an account. Store the monthly NHS prescription data in year wise folder. For an example, store all the 2015 monthly datasets in a folder named ‘2015’. Extract the dm+d release files using dm+d XML Transformation Tool. 3.2 Data Conversion Different functions were used in the aggregation and conversion workflow behind the scenes that performs the heavy lifting of a workflow step and finally return the results. An overview of all functions involved in the data conversion is shown in the table below. Function Remarks importdmd() Import dm+d files and link it to thhe BNF code using June 2018 snomed mapping file csv2rds() Combine all the comma separated value (.csv) files in the defined file path and export it into a single R object uk_practice_wise() Import NHS dataset files and generate processed individual GP practice prescription dataset "],
["features.html", "4 PrAnaViz 4.1 Introduction", " 4 PrAnaViz 4.1 Introduction The aim of this tool is to visualise and analyse the prescription data to calculate total prescribed quantity of different APIs and to explore spatiotemporal trends of different APIs for wider use. We have created, PrAnaViz, in a familiar dashboard layout with two tabs: (1) Targeted API, (2) Non-targeted API, to visualize total quantity of different APIs at CCG region with resolution to individual postcode. 4.1.1 Targeted Approach In this tab, user can input a list of APIs, and find out the total prescription quantity of each API in the selected year, at the selected CCG region. This tab also visualise the total quantity of APIs prescribed by month, GP, Chemical form, and Medicinal form for a CCG region in a selected year. 4.1.2 Non-targeted Approach Total prescription quantity of an individual API at different postcode per month at a CCG region, can be rendered in this tab. The calculated total prescription quantity of an individual API at postcode level helps to find the hotspots. User can download data as .csv file and publication ready image .eps and .pdf files. "],
["acknowledgements.html", "5 Acknowledgements", " 5 Acknowledgements This package was built as a part of the Wastewater Fingerprinting for Public Health Assessment (ENTRUST) project funded by Wessex Water and EPSRC IAA (grant no. EP/R51164X/1). Authors thank Sue Griffin, NHS Bath and North East Somerset CCG, Bath for pharmaceutical advice and NHS database assistance. "],
["references.html", "References 5.1 Introduction", " References 5.1 Introduction The aim of this tool is to visualise and analyse the prescription data to calculate total prescribed quantity of different APIs and to explore spatiotemporal trends of different APIs for wider use. We have created, PrAnaViz, in a familiar dashboard layout with two tabs: (1) Targeted API, (2) Non-targeted API, to visualize total quantity of different APIs at CCG region with resolution to individual postcode. 5.1.1 Targeted Approach In this tab, user can input a list of APIs, and find out the total prescription quantity of each API in the selected year, at the selected CCG region. This tab also visualise the total quantity of APIs prescribed by month, GP, Chemical form, and Medicinal form for a CCG region in a selected year. 5.1.2 Non-targeted Approach Total prescription quantity of an individual API at different postcode per month at a CCG region, can be rendered in this tab. The calculated total prescription quantity of an individual API at postcode level helps to find the hotspots. User can download data as .csv file and publication ready image .eps and .pdf files. "]
]
